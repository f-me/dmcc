name: dmcc
version: 1.0.0.0
synopsis: AVAYA DMCC XML API implementation and WebSockets server
description:
  >-
    Partial implementation of CSTA Phase III XML Protocol (ECMA-323)
    with AVAYA (DMCC 6.3) extensions.
github: f-me/dmcc
license: BSD3
author: Max Taldykin, Timofey Cherganov, Dmitry Dzhus, Viacheslav Lotsmanov
maintainer: dima@dzhus.org
category: Network

extra-source-files:
  - CHANGELOG.md
  - README.md
  - dmcc-ws/example.cfg

default-extensions:
  - OverloadedStrings
  - RecordWildCards
  - NamedFieldPuns
  - NoImplicitPrelude

ghc-options:
  - -Wall
  - -Wcompat
  - -Wno-missing-home-modules # fix for haddock (probably caused by *-boot files)

dependencies:
  - aeson
  - base
  - bytestring
  - classy-prelude
  - containers
  - monad-control
  - monad-logger
  - safe-exceptions
  - stm
  - text
  - time
  - transformers-base
  - unliftio

library:
  source-dirs: src
  dependencies:
    - binary
    - case-insensitive
    - HsOpenSSL
    - http-client
    - io-streams
    - lens
    - mtl
    - network
    - openssl-streams
    - transformers
    - xml-conduit
    - xml-hamlet

executables:
  dmcc-ws:
    main: Main.hs
    source-dirs: dmcc-ws
    dependencies:
      - configurator
      - dmcc
      - random
      - unix
      - websockets
      - stm
    other-modules:
      - Paths_dmcc
    ghc-options:
      - -threaded
